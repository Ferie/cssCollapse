!function(o,n,i,s){"use strict";function t(n,i){this.elem=n,this.$elem=o(n),this.options=o.extend({},a,i),this.collapseHeadings=this.$elem.find("."+this.options.prefix+this.options.targetClass),this.accordionCloseLink=this.$elem.find("."+this.options.accordionCloseLinkClass),this._defaults=a,this._name=e,this.init()}var e="cssCollapse",a={accordion:!1,accordionContainer:"accordionContainer",prefix:"cssCollapse-",targetClass:"target",targetSelected:"selected",hiddenContentClass:"hiddenContent",collapseClass:"is-open",iconClass:"collapseIcons",iconOpen:"diff-added",iconClose:"diff-removed",transition:{behavior:!1,duration:!1,delay:!1},accordionCloseLinkClass:"closeAccordion",noScrollClass:"noScroll",changeText:{changeTextClass:!1,open:"",close:""}};t.prototype={constructor:t,toggleCollapse:function(n){var s=this,t=n.find("."+s.options.prefix+s.options.iconClass),e=n.parent().find("."+s.options.prefix+s.options.hiddenContentClass);e.hasClass(s.options.collapseClass)?(e.removeClass(s.options.collapseClass),t.removeClass(s.options.prefix+s.options.iconClose).addClass(s.options.prefix+s.options.iconOpen),s.changeText(n),s.checkNoScrollClass(n),o(i).trigger(s._name+".close")):(e.addClass(s.options.collapseClass),t.removeClass(s.options.prefix+s.options.iconOpen).addClass(s.options.prefix+s.options.iconClose),s.changeText(n),s.checkNoScrollClass(n),o(i).trigger(s._name+".open"))},accordionCollapse:function(n){var s=this,t=n.find("."+s.options.prefix+s.options.iconClass),e=n.siblings("."+s.options.prefix+s.options.hiddenContentClass),a=n.parents("."+s.options.accordionContainer),l=a.find("."+s.options.targetSelected),r=a.find("."+s.options.prefix+s.options.targetClass+" ."+s.options.prefix+s.options.iconClass),c=a.find("."+s.options.prefix+s.options.hiddenContentClass);e.hasClass(s.options.collapseClass)?(e.removeClass(s.options.collapseClass),""!=s.options.iconOpen&&t.removeClass(s.options.iconOpen).addClass(s.options.iconClose),n.removeClass(s.options.targetSelected),e.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd otransitionend oTransitionEnd",function(o){s.checkNoScrollClass(n)}),o(i).trigger(s._name+".accordionClose")):(l.removeClass(s.options.targetSelected),c.removeClass(s.options.collapseClass),""!=s.options.iconOpen&&r.removeClass(s.options.iconOpen).addClass(s.options.iconClose),n.addClass(s.options.targetSelected),e.addClass(s.options.collapseClass),""!=s.options.iconOpen&&t.removeClass(s.options.iconClose).addClass(s.options.iconOpen),e.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd otransitionend oTransitionEnd",function(o){s.checkNoScrollClass(n)}),o(i).trigger(s._name+".accordionOpen"))},changeText:function(o){var n=this;o.hasClass(n.options.prefix+n.options.changeText.changeTextClass)&&(o.text()===n.options.changeText.open?o.text(n.options.changeText.close):o.text(n.options.changeText.open))},checkNoScrollClass:function(n){var i=this;n.hasClass(i.options.prefix+i.options.noScrollClass)||o("html, body").animate({scrollTop:o(n).offset().top},800)},checkAccordion:function(n){var i=n.data.pluginThis,s=o(this);i.behavior(s),i.options.accordion?i.accordionCollapse(s):i.toggleCollapse(s)},behavior:function(o){var n=this,i=o.siblings("."+n.options.prefix+n.options.hiddenContentClass);n.options.transition.behavior&&i.css({"-webkit-transition-timing-function":n.options.transition.behavior,"-moz-transition-timing-function":n.options.transition.behavior,"-o-transition-timing-function":n.options.transition.behavior,"transition-timing-function":n.options.transition.behavior}),n.options.transition.duration&&i.css({"-webkit-transition-duration":n.options.transition.duration,"-moz-transition-duration":n.options.transition.duration,"-o-transition-duration":n.options.transition.duration,"transition-duration":n.options.transition.duration}),n.options.transition.delay&&i.css({"-webkit-transition-delay":n.options.transition.delay,"-moz-transition-delay":n.options.transition.delay,"-o-transition-delay":n.options.transition.delay,"transition-delay":n.options.transition.delay})},closeAccordionByLink:function(n){var s=n.data.pluginThis,t=o(this),e=t.parents("."+s.options.hiddenContentClass),a=e.prev("."+s.options.targetSelected),l=a.find("."+s.options.iconClass);a.removeClass(s.options.targetSelected),e.removeClass(s.options.collapseClass),""!=s.options.iconOpen&&l.removeClass(s.options.iconOpen).addClass(s.options.iconClose),s.checkNoScrollClass(t),o(i).trigger(s._name+".accordionClose")},eventBindings:function(){this.collapseHeadings.on("click",{pluginThis:this},this.checkAccordion)},init:function(){this.eventBindings()}},o.fn[e]=function(n){return this.each(function(){var i=o.data(this,"ObjPlugin_"+e),s="object"==typeof n&&n;i||o.data(this,"ObjPlugin_"+e,i=new t(this,s)),"string"==typeof n&&i[n]()})},o.fn[e].defaults=a,o.fn[e].constructor=t}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5jc3NDb2xsYXBzZS5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJwbHVnaW4iLCJlbGVtZW50Iiwib3B0aW9ucyIsInRoaXMiLCJlbGVtIiwiJGVsZW0iLCJleHRlbmQiLCJkZWZhdWx0cyIsImNvbGxhcHNlSGVhZGluZ3MiLCJmaW5kIiwicHJlZml4IiwidGFyZ2V0Q2xhc3MiLCJhY2NvcmRpb25DbG9zZUxpbmsiLCJhY2NvcmRpb25DbG9zZUxpbmtDbGFzcyIsIl9kZWZhdWx0cyIsIl9uYW1lIiwicGx1Z2luTmFtZSIsImluaXQiLCJhY2NvcmRpb24iLCJhY2NvcmRpb25Db250YWluZXIiLCJ0YXJnZXRTZWxlY3RlZCIsImhpZGRlbkNvbnRlbnRDbGFzcyIsImNvbGxhcHNlQ2xhc3MiLCJpY29uQ2xhc3MiLCJpY29uT3BlbiIsImljb25DbG9zZSIsInRyYW5zaXRpb24iLCJiZWhhdmlvciIsImR1cmF0aW9uIiwiZGVsYXkiLCJub1Njcm9sbENsYXNzIiwiY2hhbmdlVGV4dCIsImNoYW5nZVRleHRDbGFzcyIsIm9wZW4iLCJjbG9zZSIsInByb3RvdHlwZSIsImNvbnN0cnVjdG9yIiwidG9nZ2xlQ29sbGFwc2UiLCIkY3VycmVudFRhcmdldCIsInBsdWdpblRoaXMiLCIkY29sbGFwc2VJY29ucyIsIiRoaWRkZW5Db250ZW50IiwicGFyZW50IiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiY2hlY2tOb1Njcm9sbENsYXNzIiwidHJpZ2dlciIsImFjY29yZGlvbkNvbGxhcHNlIiwic2libGluZ3MiLCIkY3VycmVudFBhcmVudCIsInBhcmVudHMiLCIkYWNjb3JkaW9uVGFyZ2V0cyIsIiRhY2NvcmRpb25Db2xsYXBzZUljb25zIiwiJGFjY29yZGlvbkhpZGRlbkNvbnRlbnQiLCJvbmUiLCJlIiwidGV4dCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJjaGVja0FjY29yZGlvbiIsImV2ZW50IiwiZGF0YSIsImNzcyIsIi13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24iLCItbW96LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uIiwiLW8tdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24iLCJ0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiIsIi13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbiIsIi1tb3otdHJhbnNpdGlvbi1kdXJhdGlvbiIsIi1vLXRyYW5zaXRpb24tZHVyYXRpb24iLCJ0cmFuc2l0aW9uLWR1cmF0aW9uIiwiLXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5IiwiLW1vei10cmFuc2l0aW9uLWRlbGF5IiwiLW8tdHJhbnNpdGlvbi1kZWxheSIsInRyYW5zaXRpb24tZGVsYXkiLCJjbG9zZUFjY29yZGlvbkJ5TGluayIsIiR0YXJnZXRTZWxlY3RlZCIsInByZXYiLCJldmVudEJpbmRpbmdzIiwib24iLCJmbiIsIm9wdGlvbiIsImVhY2giLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUNBLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsWUE2QkEsU0FBQUMsR0FBQUMsRUFBQUMsR0FDQUMsS0FBQUMsS0FBQUgsRUFDQUUsS0FBQUUsTUFBQVQsRUFBQUssR0FDQUUsS0FBQUQsUUFBQU4sRUFBQVUsVUFBQUMsRUFBQUwsR0FDQUMsS0FBQUssaUJBQUFMLEtBQUFFLE1BQUFJLEtBQUEsSUFBQU4sS0FBQUQsUUFBQVEsT0FBQVAsS0FBQUQsUUFBQVMsYUFDQVIsS0FBQVMsbUJBQUFULEtBQUFFLE1BQUFJLEtBQUEsSUFBQU4sS0FBQUQsUUFBQVcseUJBQ0FWLEtBQUFXLFVBQUFQLEVBQ0FKLEtBQUFZLE1BQUFDLEVBRUFiLEtBQUFjLE9BcENBLEdBQUFELEdBQUEsY0FDQVQsR0FDQVcsV0FBQSxFQUNBQyxtQkFBQSxxQkFDQVQsT0FBQSxlQUNBQyxZQUFBLFNBQ0FTLGVBQUEsV0FDQUMsbUJBQUEsZ0JBQ0FDLGNBQUEsVUFDQUMsVUFBQSxn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LFdBQ0EsR0FBQXJCLEdBQUFwRSxFQUFBb0UsS0FBQTdELEtBQUEsYUFBQWEsR0FDQWQsRUFBQSxnQkFBQWtGLElBQUFBLENBRUFwQixJQUFBcEUsRUFBQW9FLEtBQUE3RCxLQUFBLGFBQUFhLEVBQUFnRCxFQUFBLEdBQUFoRSxHQUFBRyxLQUFBRCxJQUNBLGdCQUFBa0YsSUFBQXBCLEVBQUFvQixRQUlBeEYsRUFBQXVGLEdBQUFuRSxHQUFBVCxTQUFBQSxFQUNBWCxFQUFBdUYsR0FBQW5FLEdBQUFvQixZQUFBcEMsR0FFQXNGLE9BQUF6RixPQUFBQyIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiO1xuKGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBwbHVnaW5OYW1lID0gJ2Nzc0NvbGxhcHNlJyxcbiAgICAgICAgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBhY2NvcmRpb246IGZhbHNlLFxuICAgICAgICAgICAgYWNjb3JkaW9uQ29udGFpbmVyOiAnYWNjb3JkaW9uQ29udGFpbmVyJyxcbiAgICAgICAgICAgIHByZWZpeDogJ2Nzc0NvbGxhcHNlLScsXG4gICAgICAgICAgICB0YXJnZXRDbGFzczogJ3RhcmdldCcsXG4gICAgICAgICAgICB0YXJnZXRTZWxlY3RlZDogJ3NlbGVjdGVkJyxcbiAgICAgICAgICAgIGhpZGRlbkNvbnRlbnRDbGFzczogJ2hpZGRlbkNvbnRlbnQnLFxuICAgICAgICAgICAgY29sbGFwc2VDbGFzczogJ2lzLW9wZW4nLFxuICAgICAgICAgICAgaWNvbkNsYXNzOiAnY29sbGFwc2VJY29ucycsXG4gICAgICAgICAgICBpY29uT3BlbjogJ2RpZmYtYWRkZWQnLFxuICAgICAgICAgICAgaWNvbkNsb3NlOiAnZGlmZi1yZW1vdmVkJyxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHtcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRlbGF5OiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhY2NvcmRpb25DbG9zZUxpbmtDbGFzczogJ2Nsb3NlQWNjb3JkaW9uJyxcbiAgICAgICAgICAgIG5vU2Nyb2xsQ2xhc3M6ICdub1Njcm9sbCcsXG4gICAgICAgICAgICBjaGFuZ2VUZXh0OiB7XG4gICAgICAgICAgICAgICAgY2hhbmdlVGV4dENsYXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvcGVuOiAnJyxcbiAgICAgICAgICAgICAgICBjbG9zZTogJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgIC8vY29uc3RydWN0b3JcbiAgICBmdW5jdGlvbiBwbHVnaW4oZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtZW50O1xuICAgICAgICB0aGlzLiRlbGVtID0gJChlbGVtZW50KTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jb2xsYXBzZUhlYWRpbmdzID0gdGhpcy4kZWxlbS5maW5kKCcuJyArIHRoaXMub3B0aW9ucy5wcmVmaXggKyB0aGlzLm9wdGlvbnMudGFyZ2V0Q2xhc3MpO1xuICAgICAgICB0aGlzLmFjY29yZGlvbkNsb3NlTGluayA9IHRoaXMuJGVsZW0uZmluZCgnLicgKyB0aGlzLm9wdGlvbnMuYWNjb3JkaW9uQ2xvc2VMaW5rQ2xhc3MpO1xuICAgICAgICB0aGlzLl9kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgICAgICB0aGlzLl9uYW1lID0gcGx1Z2luTmFtZTtcblxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBwbHVnaW4ucHJvdG90eXBlID0ge1xuICAgICAgICBjb25zdHJ1Y3RvcjogcGx1Z2luLFxuICAgICAgICB0b2dnbGVDb2xsYXBzZTogZnVuY3Rpb24gKCRjdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgcGx1Z2luVGhpcyA9IHRoaXMsXG4gICAgICAgICAgICAgICAgJGNvbGxhcHNlSWNvbnMgPSAkY3VycmVudFRhcmdldC5maW5kKCcuJyArIHBsdWdpblRoaXMub3B0aW9ucy5wcmVmaXggKyBwbHVnaW5UaGlzLm9wdGlvbnMuaWNvbkNsYXNzKSxcbiAgICAgICAgICAgICAgICAkaGlkZGVuQ29udGVudCA9ICRjdXJyZW50VGFyZ2V0LnBhcmVudCgpLmZpbmQoJy4nICsgcGx1Z2luVGhpcy5vcHRpb25zLnByZWZpeCArIHBsdWdpblRoaXMub3B0aW9ucy5oaWRkZW5Db250ZW50Q2xhc3MpO1xuXG4gICAgICAgICAgICBpZiAoJGhpZGRlbkNvbnRlbnQuaGFzQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLmNvbGxhcHNlQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgJGhpZGRlbkNvbnRlbnQucmVtb3ZlQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLmNvbGxhcHNlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICRjb2xsYXBzZUljb25zLnJlbW92ZUNsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5wcmVmaXggKyBwbHVnaW5UaGlzLm9wdGlvbnMuaWNvbkNsb3NlKS5hZGRDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMucHJlZml4ICsgcGx1Z2luVGhpcy5vcHRpb25zLmljb25PcGVuKTtcbiAgICAgICAgICAgICAgICBwbHVnaW5UaGlzLmNoYW5nZVRleHQoJGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgICAgIHBsdWdpblRoaXMuY2hlY2tOb1Njcm9sbENsYXNzKCRjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS50cmlnZ2VyKHBsdWdpblRoaXMuX25hbWUgKyAnLmNsb3NlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRoaWRkZW5Db250ZW50LmFkZENsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5jb2xsYXBzZUNsYXNzKTtcbiAgICAgICAgICAgICAgICAkY29sbGFwc2VJY29ucy5yZW1vdmVDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMucHJlZml4ICsgcGx1Z2luVGhpcy5vcHRpb25zLmljb25PcGVuKS5hZGRDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMucHJlZml4ICsgcGx1Z2luVGhpcy5vcHRpb25zLmljb25DbG9zZSk7XG4gICAgICAgICAgICAgICAgcGx1Z2luVGhpcy5jaGFuZ2VUZXh0KCRjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBwbHVnaW5UaGlzLmNoZWNrTm9TY3JvbGxDbGFzcygkY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcihwbHVnaW5UaGlzLl9uYW1lICsgJy5vcGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFjY29yZGlvbkNvbGxhcHNlOiBmdW5jdGlvbiAoJGN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgIHZhciBwbHVnaW5UaGlzID0gdGhpcyxcbiAgICAgICAgICAgICAgICAkY29sbGFwc2VJY29ucyA9ICRjdXJyZW50VGFyZ2V0LmZpbmQoJy4nICsgcGx1Z2luVGhpcy5vcHRpb25zLnByZWZpeCArIHBsdWdpblRoaXMub3B0aW9ucy5pY29uQ2xhc3MpLFxuICAgICAgICAgICAgICAgICRoaWRkZW5Db250ZW50ID0gJGN1cnJlbnRUYXJnZXQuc2libGluZ3MoJy4nICsgcGx1Z2luVGhpcy5vcHRpb25zLnByZWZpeCArIHBsdWdpblRoaXMub3B0aW9ucy5oaWRkZW5Db250ZW50Q2xhc3MpLFxuICAgICAgICAgICAgICAgICRjdXJyZW50UGFyZW50ID0gJGN1cnJlbnRUYXJnZXQucGFyZW50cygnLicgKyBwbHVnaW5UaGlzLm9wdGlvbnMuYWNjb3JkaW9uQ29udGFpbmVyKSxcbiAgICAgICAgICAgICAgICAkYWNjb3JkaW9uVGFyZ2V0cyA9ICRjdXJyZW50UGFyZW50LmZpbmQoJy4nICsgcGx1Z2luVGhpcy5vcHRpb25zLnRhcmdldFNlbGVjdGVkKSxcbiAgICAgICAgICAgICAgICAkYWNjb3JkaW9uQ29sbGFwc2VJY29ucyA9ICRjdXJyZW50UGFyZW50LmZpbmQoJy4nICsgcGx1Z2luVGhpcy5vcHRpb25zLnByZWZpeCArIHBsdWdpblRoaXMub3B0aW9ucy50YXJnZXRDbGFzcyArICcgLicgKyBwbHVnaW5UaGlzLm9wdGlvbnMucHJlZml4ICsgcGx1Z2luVGhpcy5vcHRpb25zLmljb25DbGFzcyksXG4gICAgICAgICAgICAgICAgJGFjY29yZGlvbkhpZGRlbkNvbnRlbnQgPSAkY3VycmVudFBhcmVudC5maW5kKCcuJyArIHBsdWdpblRoaXMub3B0aW9ucy5wcmVmaXggKyBwbHVnaW5UaGlzLm9wdGlvbnMuaGlkZGVuQ29udGVudENsYXNzKTtcblxuICAgICAgICAgICAgaWYgKCRoaWRkZW5Db250ZW50Lmhhc0NsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5jb2xsYXBzZUNsYXNzKSkge1xuICAgICAgICAgICAgICAgIC8vIHRhcmdldCBvcGVuZWRcbiAgICAgICAgICAgICAgICAkaGlkZGVuQ29udGVudC5yZW1vdmVDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMuY29sbGFwc2VDbGFzcyk7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpblRoaXMub3B0aW9ucy5pY29uT3BlbiAhPSAnJykge1xuICAgICAgICAgICAgICAgICAgICAkY29sbGFwc2VJY29ucy5yZW1vdmVDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMuaWNvbk9wZW4pLmFkZENsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5pY29uQ2xvc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkY3VycmVudFRhcmdldC5yZW1vdmVDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMudGFyZ2V0U2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICRoaWRkZW5Db250ZW50Lm9uZSgnd2Via2l0VHJhbnNpdGlvbkVuZCBtb3pUcmFuc2l0aW9uRW5kIE1TVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCBvVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpblRoaXMuY2hlY2tOb1Njcm9sbENsYXNzKCRjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS50cmlnZ2VyKHBsdWdpblRoaXMuX25hbWUgKyAnLmFjY29yZGlvbkNsb3NlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRhcmdldCBjbG9zZWRcbiAgICAgICAgICAgICAgICAkYWNjb3JkaW9uVGFyZ2V0cy5yZW1vdmVDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMudGFyZ2V0U2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICRhY2NvcmRpb25IaWRkZW5Db250ZW50LnJlbW92ZUNsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5jb2xsYXBzZUNsYXNzKTtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luVGhpcy5vcHRpb25zLmljb25PcGVuICE9ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICRhY2NvcmRpb25Db2xsYXBzZUljb25zLnJlbW92ZUNsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5pY29uT3BlbikuYWRkQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLmljb25DbG9zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRjdXJyZW50VGFyZ2V0LmFkZENsYXNzKHBsdWdpblRoaXMub3B0aW9ucy50YXJnZXRTZWxlY3RlZCk7XG4gICAgICAgICAgICAgICAgJGhpZGRlbkNvbnRlbnQuYWRkQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLmNvbGxhcHNlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW5UaGlzLm9wdGlvbnMuaWNvbk9wZW4gIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgJGNvbGxhcHNlSWNvbnMucmVtb3ZlQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLmljb25DbG9zZSkuYWRkQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLmljb25PcGVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJGhpZGRlbkNvbnRlbnQub25lKCd3ZWJraXRUcmFuc2l0aW9uRW5kIG1velRyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kIG9UcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luVGhpcy5jaGVja05vU2Nyb2xsQ2xhc3MoJGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnRyaWdnZXIocGx1Z2luVGhpcy5fbmFtZSArICcuYWNjb3JkaW9uT3BlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjaGFuZ2VUZXh0OiBmdW5jdGlvbiAoJGN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgIHZhciBwbHVnaW5UaGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICgkY3VycmVudFRhcmdldC5oYXNDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMucHJlZml4ICsgcGx1Z2luVGhpcy5vcHRpb25zLmNoYW5nZVRleHQuY2hhbmdlVGV4dENsYXNzKSkge1xuICAgICAgICAgICAgICAgIGlmICgkY3VycmVudFRhcmdldC50ZXh0KCkgPT09IHBsdWdpblRoaXMub3B0aW9ucy5jaGFuZ2VUZXh0Lm9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnRUYXJnZXQudGV4dChwbHVnaW5UaGlzLm9wdGlvbnMuY2hhbmdlVGV4dC5jbG9zZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnRUYXJnZXQudGV4dChwbHVnaW5UaGlzLm9wdGlvbnMuY2hhbmdlVGV4dC5vcGVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrTm9TY3JvbGxDbGFzczogZnVuY3Rpb24gKCRjdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgcGx1Z2luVGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoISRjdXJyZW50VGFyZ2V0Lmhhc0NsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5wcmVmaXggKyBwbHVnaW5UaGlzLm9wdGlvbnMubm9TY3JvbGxDbGFzcykpIHtcbiAgICAgICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAkKCRjdXJyZW50VGFyZ2V0KS5vZmZzZXQoKS50b3B9LCA4MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjaGVja0FjY29yZGlvbjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgcGx1Z2luVGhpcyA9IGV2ZW50LmRhdGEucGx1Z2luVGhpcyxcbiAgICAgICAgICAgICAgICAkY3VycmVudFRhcmdldCA9ICQodGhpcyk7XG4gICAgICAgICAgICBwbHVnaW5UaGlzLmJlaGF2aW9yKCRjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIGlmIChwbHVnaW5UaGlzLm9wdGlvbnMuYWNjb3JkaW9uKSB7XG4gICAgICAgICAgICAgICAgcGx1Z2luVGhpcy5hY2NvcmRpb25Db2xsYXBzZSgkY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBsdWdpblRoaXMudG9nZ2xlQ29sbGFwc2UoJGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBiZWhhdmlvcjogZnVuY3Rpb24gKCRjdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgcGx1Z2luVGhpcyA9IHRoaXMsXG4gICAgICAgICAgICAgICAgJGhpZGRlbkNvbnRlbnQgPSAkY3VycmVudFRhcmdldC5zaWJsaW5ncygnLicgKyBwbHVnaW5UaGlzLm9wdGlvbnMucHJlZml4ICsgcGx1Z2luVGhpcy5vcHRpb25zLmhpZGRlbkNvbnRlbnRDbGFzcyk7XG5cbiAgICAgICAgICAgIGlmIChwbHVnaW5UaGlzLm9wdGlvbnMudHJhbnNpdGlvbi5iZWhhdmlvcikge1xuICAgICAgICAgICAgICAgICRoaWRkZW5Db250ZW50LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJzogcGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uYmVoYXZpb3IsXG4gICAgICAgICAgICAgICAgICAgICctbW96LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJzogcGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uYmVoYXZpb3IsXG4gICAgICAgICAgICAgICAgICAgICctby10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbic6IHBsdWdpblRoaXMub3B0aW9ucy50cmFuc2l0aW9uLmJlaGF2aW9yLFxuICAgICAgICAgICAgICAgICAgICAndHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nOiBwbHVnaW5UaGlzLm9wdGlvbnMudHJhbnNpdGlvbi5iZWhhdmlvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAkaGlkZGVuQ29udGVudC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uJzogcGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICctbW96LXRyYW5zaXRpb24tZHVyYXRpb24nOiBwbHVnaW5UaGlzLm9wdGlvbnMudHJhbnNpdGlvbi5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgJy1vLXRyYW5zaXRpb24tZHVyYXRpb24nOiBwbHVnaW5UaGlzLm9wdGlvbnMudHJhbnNpdGlvbi5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24tZHVyYXRpb24nOiBwbHVnaW5UaGlzLm9wdGlvbnMudHJhbnNpdGlvbi5kdXJhdGlvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uZGVsYXkpIHtcbiAgICAgICAgICAgICAgICAkaGlkZGVuQ29udGVudC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5JzogcGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uZGVsYXksXG4gICAgICAgICAgICAgICAgICAgICctbW96LXRyYW5zaXRpb24tZGVsYXknOiBwbHVnaW5UaGlzLm9wdGlvbnMudHJhbnNpdGlvbi5kZWxheSxcbiAgICAgICAgICAgICAgICAgICAgJy1vLXRyYW5zaXRpb24tZGVsYXknOiBwbHVnaW5UaGlzLm9wdGlvbnMudHJhbnNpdGlvbi5kZWxheSxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24tZGVsYXknOiBwbHVnaW5UaGlzLm9wdGlvbnMudHJhbnNpdGlvbi5kZWxheVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbG9zZUFjY29yZGlvbkJ5TGluazogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgcGx1Z2luVGhpcyA9IGV2ZW50LmRhdGEucGx1Z2luVGhpcyxcbiAgICAgICAgICAgICAgICAkY3VycmVudFRhcmdldCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgJGhpZGRlbkNvbnRlbnQgPSAkY3VycmVudFRhcmdldC5wYXJlbnRzKCcuJyArIHBsdWdpblRoaXMub3B0aW9ucy5oaWRkZW5Db250ZW50Q2xhc3MpLFxuICAgICAgICAgICAgICAgICR0YXJnZXRTZWxlY3RlZCA9ICRoaWRkZW5Db250ZW50LnByZXYoJy4nICsgcGx1Z2luVGhpcy5vcHRpb25zLnRhcmdldFNlbGVjdGVkKSxcbiAgICAgICAgICAgICAgICAkY29sbGFwc2VJY29ucyA9ICR0YXJnZXRTZWxlY3RlZC5maW5kKCcuJyArIHBsdWdpblRoaXMub3B0aW9ucy5pY29uQ2xhc3MpO1xuXG4gICAgICAgICAgICAkdGFyZ2V0U2VsZWN0ZWQucmVtb3ZlQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLnRhcmdldFNlbGVjdGVkKTtcbiAgICAgICAgICAgICRoaWRkZW5Db250ZW50LnJlbW92ZUNsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5jb2xsYXBzZUNsYXNzKTtcbiAgICAgICAgICAgIGlmIChwbHVnaW5UaGlzLm9wdGlvbnMuaWNvbk9wZW4gIT0gJycpIHtcbiAgICAgICAgICAgICAgICAkY29sbGFwc2VJY29ucy5yZW1vdmVDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMuaWNvbk9wZW4pLmFkZENsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5pY29uQ2xvc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGx1Z2luVGhpcy5jaGVja05vU2Nyb2xsQ2xhc3MoJGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcihwbHVnaW5UaGlzLl9uYW1lICsgJy5hY2NvcmRpb25DbG9zZScpO1xuICAgICAgICB9LFxuICAgICAgICBldmVudEJpbmRpbmdzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxhcHNlSGVhZGluZ3Mub24oJ2NsaWNrJywge3BsdWdpblRoaXM6IHRoaXN9LCB0aGlzLmNoZWNrQWNjb3JkaW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudEJpbmRpbmdzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgJC5mbltwbHVnaW5OYW1lXSA9IGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9ICQuZGF0YSh0aGlzLCAnT2JqUGx1Z2luXycgKyBwbHVnaW5OYW1lKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PT0gJ29iamVjdCcgJiYgb3B0aW9uO1xuXG4gICAgICAgICAgICBpZiAoIWRhdGEpICQuZGF0YSh0aGlzLCAnT2JqUGx1Z2luXycgKyBwbHVnaW5OYW1lLCAoZGF0YSA9IG5ldyBwbHVnaW4odGhpcywgb3B0aW9ucykpKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkLmZuW3BsdWdpbk5hbWVdLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgJC5mbltwbHVnaW5OYW1lXS5jb25zdHJ1Y3RvciA9IHBsdWdpbjtcblxufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTsiXX0=
