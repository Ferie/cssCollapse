$(".example1").cssCollapse({transition:{behavior:"ease-in-out",duration:"800ms"}}),$(".example2").cssCollapse({transition:{behavior:"ease-in-out",duration:"1s",delay:"500ms"}}),$(".example3").cssCollapse({accordion:!0,prefix:"accordion-",iconClose:"cssCollapse-chevron-down",iconOpen:"cssCollapse-chevron-up"}),$(".example4").cssCollapse({iconClose:"dash",iconOpen:"plus"}),$(".example5").cssCollapse({changeText:{changeTextClass:"changeText",open:"Open",close:"Close"}}),function(o,n,s,i){"use strict";function t(n,s){this.elem=n,this.$elem=o(n),this.options=o.extend({},a,s),this.collapseHeadings=this.$elem.find("."+this.options.prefix+this.options.targetClass),this.accordionCloseLink=this.$elem.find("."+this.options.accordionCloseLinkClass),this._defaults=a,this._name=e,this.init()}var e="cssCollapse",a={accordion:!1,accordionContainer:"accordionContainer",prefix:"cssCollapse-",targetClass:"target",targetSelected:"selected",hiddenContentClass:"hiddenContent",collapseClass:"is-open",iconClass:"collapseIcons",iconOpen:"diff-added",iconClose:"diff-removed",transition:{behavior:!1,duration:!1,delay:!1},accordionCloseLinkClass:"closeAccordion",noScrollClass:"noScroll",changeText:{changeTextClass:!1,open:"",close:""}};t.prototype={constructor:t,toggleCollapse:function(n){var i=this,t=n.find("."+i.options.prefix+i.options.iconClass),e=n.parent().find("."+i.options.prefix+i.options.hiddenContentClass);e.hasClass(i.options.collapseClass)?(e.removeClass(i.options.collapseClass),t.removeClass(i.options.prefix+i.options.iconClose).addClass(i.options.prefix+i.options.iconOpen),i.changeText(n),i.checkNoScrollClass(n),o(s).trigger(i._name+".close")):(e.addClass(i.options.collapseClass),t.removeClass(i.options.prefix+i.options.iconOpen).addClass(i.options.prefix+i.options.iconClose),i.changeText(n),i.checkNoScrollClass(n),o(s).trigger(i._name+".open"))},accordionCollapse:function(n){var i=this,t=n.find("."+i.options.prefix+i.options.iconClass),e=n.siblings("."+i.options.prefix+i.options.hiddenContentClass),a=n.parents("."+i.options.accordionContainer),l=a.find("."+i.options.targetSelected),c=a.find("."+i.options.prefix+i.options.targetClass+" ."+i.options.prefix+i.options.iconClass),r=a.find("."+i.options.prefix+i.options.hiddenContentClass);e.hasClass(i.options.collapseClass)?(e.removeClass(i.options.collapseClass),""!=i.options.iconOpen&&t.removeClass(i.options.iconOpen).addClass(i.options.iconClose),n.removeClass(i.options.targetSelected),e.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd otransitionend oTransitionEnd",function(o){i.checkNoScrollClass(n)}),o(s).trigger(i._name+".accordionClose")):(l.removeClass(i.options.targetSelected),r.removeClass(i.options.collapseClass),""!=i.options.iconOpen&&c.removeClass(i.options.iconOpen).addClass(i.options.iconClose),n.addClass(i.options.targetSelected),e.addClass(i.options.collapseClass),""!=i.options.iconOpen&&t.removeClass(i.options.iconClose).addClass(i.options.iconOpen),e.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd otransitionend oTransitionEnd",function(o){i.checkNoScrollClass(n)}),o(s).trigger(i._name+".accordionOpen"))},changeText:function(o){var n=this;o.hasClass(n.options.prefix+n.options.changeText.changeTextClass)&&(o.text()===n.options.changeText.open?o.text(n.options.changeText.close):o.text(n.options.changeText.open))},checkNoScrollClass:function(n){var s=this;n.hasClass(s.options.prefix+s.options.noScrollClass)||o("html, body").animate({scrollTop:o(n).offset().top},800)},checkAccordion:function(n){var s=n.data.pluginThis,i=o(this);s.behavior(i),s.options.accordion?s.accordionCollapse(i):s.toggleCollapse(i)},behavior:function(o){var n=this,s=o.siblings("."+n.options.prefix+n.options.hiddenContentClass);n.options.transition.behavior&&s.css({"-webkit-transition-timing-function":n.options.transition.behavior,"-moz-transition-timing-function":n.options.transition.behavior,"-o-transition-timing-function":n.options.transition.behavior,"transition-timing-function":n.options.transition.behavior}),n.options.transition.duration&&s.css({"-webkit-transition-duration":n.options.transition.duration,"-moz-transition-duration":n.options.transition.duration,"-o-transition-duration":n.options.transition.duration,"transition-duration":n.options.transition.duration}),n.options.transition.delay&&s.css({"-webkit-transition-delay":n.options.transition.delay,"-moz-transition-delay":n.options.transition.delay,"-o-transition-delay":n.options.transition.delay,"transition-delay":n.options.transition.delay})},closeAccordionByLink:function(n){var i=n.data.pluginThis,t=o(this),e=t.parents("."+i.options.hiddenContentClass),a=e.prev("."+i.options.targetSelected),l=a.find("."+i.options.iconClass);a.removeClass(i.options.targetSelected),e.removeClass(i.options.collapseClass),""!=i.options.iconOpen&&l.removeClass(i.options.iconOpen).addClass(i.options.iconClose),i.checkNoScrollClass(t),o(s).trigger(i._name+".accordionClose")},eventBindings:function(){this.collapseHeadings.on("click",{pluginThis:this},this.checkAccordion)},init:function(){this.eventBindings()}},o.fn[e]=function(n){return this.each(function(){var s=o.data(this,"ObjPlugin_"+e),i="object"==typeof n&&n;s||o.data(this,"ObjPlugin_"+e,s=new t(this,i)),"string"==typeof n&&s[n]()})},o.fn[e].defaults=a,o.fn[e].constructor=t}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4YW1wbGVzLmpzIiwianF1ZXJ5LmNzc0NvbGxhcHNlLmpzIl0sIm5hbWVzIjpbIiQiLCJjc3NDb2xsYXBzZSIsInRyYW5zaXRpb24iLCJiZWhhdmlvciIsImR1cmF0aW9uIiwiZGVsYXkiLCJhY2NvcmRpb24iLCJwcmVmaXgiLCJpY29uQ2xvc2UiLCJpY29uT3BlbiIsImNoYW5nZVRleHQiLCJjaGFuZ2VUZXh0Q2xhc3MiLCJvcGVuIiwiY2xvc2UiLCJ3aW5kb3ciLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsInBsdWdpbiIsImVsZW1lbnQiLCJvcHRpb25zIiwidGhpcyIsImVsZW0iLCIkZWxlbSIsImV4dGVuZCIsImRlZmF1bHRzIiwiY29sbGFwc2VIZWFkaW5ncyIsImZpbmQiLCJ0YXJnZXRDbGFzcyIsImFjY29yZGlvbkNsb3NlTGluayIsImFjY29yZGlvbkNsb3NlTGlua0NsYXNzIiwiX2RlZmF1bHRzIiwiX25hbWUiLCJwbHVnaW5OYW1lIiwiaW5pdCIsImFjY29yZGlvbkNvbnRhaW5lciIsInRhcmdldFNlbGVjdGVkIiwiaGlkZGVuQ29udGVudENsYXNzIiwiY29sbGFwc2VDbGFzcyIsImljb25DbGFzcyIsIm5vU2Nyb2xsQ2xhc3MiLCJwcm90b3R5cGUiLCJjb25zdHJ1Y3RvciIsInRvZ2dsZUNvbGxhcHNlIiwiJGN1cnJlbnRUYXJnZXQiLCJwbHVnaW5UaGlzIiwiJGNvbGxhcHNlSWNvbnMiLCIkaGlkZGVuQ29udGVudCIsInBhcmVudCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNoZWNrTm9TY3JvbGxDbGFzcyIsInRyaWdnZXIiLCJhY2NvcmRpb25Db2xsYXBzZSIsInNpYmxpbmdzIiwiJGN1cnJlbnRQYXJlbnQiLCJwYXJlbnRzIiwiJGFjY29yZGlvblRhcmdldHMiLCIkYWNjb3JkaW9uQ29sbGFwc2VJY29ucyIsIiRhY2NvcmRpb25IaWRkZW5Db250ZW50Iiwib25lIiwiZSIsInRleHQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiY2hlY2tBY2NvcmRpb24iLCJldmVudCIsImRhdGEiLCJjc3MiLCItd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uIiwiLW1vei10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiIsIi1vLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uIiwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24iLCItd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb24iLCItbW96LXRyYW5zaXRpb24tZHVyYXRpb24iLCItby10cmFuc2l0aW9uLWR1cmF0aW9uIiwidHJhbnNpdGlvbi1kdXJhdGlvbiIsIi13ZWJraXQtdHJhbnNpdGlvbi1kZWxheSIsIi1tb3otdHJhbnNpdGlvbi1kZWxheSIsIi1vLXRyYW5zaXRpb24tZGVsYXkiLCJ0cmFuc2l0aW9uLWRlbGF5IiwiY2xvc2VBY2NvcmRpb25CeUxpbmsiLCIkdGFyZ2V0U2VsZWN0ZWQiLCJwcmV2IiwiZXZlbnRCaW5kaW5ncyIsIm9uIiwiZm4iLCJvcHRpb24iLCJlYWNoIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQUFDQUEsRUFBQSxhQUFBQyxhQUNBQyxZQUNBQyxTQUFBLGNBQ0FDLFNBQUEsV0FLQUosRUFBQSxhQUFBQyxhQUNBQyxZQUNBQyxTQUFBLGNBQ0FDLFNBQUEsS0FDQUMsTUFBQSxXQUtBTCxFQUFBLGFBQUFDLGFBQ0FLLFdBQUEsRUFDQUMsT0FBQSxhQUNBQyxVQUFBLDJCQUNBQyxTQUFBLDJCQUlBVCxFQUFBLGFBQUFDLGFBQ0FPLFVBQUEsT0FDQUMsU0FBQSxTQUlBVCxFQUFBLGFBQUFDLGFBQ0FTLFlBQ0FDLGdCQUFBLGFBQ0FDLEtBQUEsT0FDQUMsTUFBQSxXQ25DQSxTQUFBYixFQUFBYyxFQUFBQyxFQUFBQyxHQUNBLFlBNkJBLFNBQUFDLEdBQUFDLEVBQUFDLEdBQ0FDLEtBQUFDLEtBQUFILEVBQ0FFLEtBQUFFLE1BQUF0QixFQUFBa0IsR0FDQUUsS0FBQUQsUUFBQW5CLEVBQUF1QixVQUFBQyxFQUFBTCxHQUNBQyxLQUFBSyxpQkFBQUwsS0FBQUUsTUFBQUksS0FBQSxJQUFBTixLQUFBRCxRQUFBWixPQUFBYSxLQUFBRCxRQUFBUSxhQUNBUCxLQUFBUSxtQkFBQVIsS0FBQUUsTUFBQUksS0FBQSxJQUFBTixLQUFBRCxRQUFBVSx5QkFDQVQsS0FBQVUsVUFBQU4sRUFDQUosS0FBQVcsTUFBQUMsRUFFQVosS0FBQWEsT0FwQ0EsR0FBQUQsR0FBQSxjQUNBUixHQUNBbEIsV0FBQSxFQUNBNEIsbUJBQUEscUJBQ0EzQixPQUFBLGVBQ0FvQixZQUFBLFNBQ0FRLGVBQUEsV0FDQUMsbUJBQUEsZ0JBQ0FDLGNBQUEsVUFDQUMsVUFBQSxnQkFDQTdCLFNBQUEsYUFDQUQsVUFBQSxlQUNBTixZQUNBQyxVQUFBLEVBQ0FDLFVBQUEsRUFDQUMsT0FBQSxHQUVBd0Isd0JBQUEsaUJBQ0FVLGNBQUEsV0FDQTdCLFlBQ0FDLGlCQUFBLEVBQ0FDLEtBQUEsR0FDQUMsTUFBQSxJQWlCQUksR0FBQXVCLFdBQ0FDLFlBQUF4QixFQUNBeUIsZUFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUF4QixLQUNBeUIsRUFBQUYsRUFBQWpCLEtBQUEsSUFBQWtCLEVBQUF6QixRQUFBWixPQUFBcUMsRUFBQXpCLFFBQUFtQixXQUNBUSxFQUFBSCxFQUFBSSxTQUFBckIsS0FBQSxJQUFBa0IsRUFBQXpCLFFBQUFaLE9BQUFxQyxFQUFBekIsUUFBQWlCLG1CQUVBVSxHQUFBRSxTQUFBSixFQUFBekIsUUFBQWtCLGdCQUNBUyxFQUFBRyxZQUFBTCxFQUFBekIsUUFBQWtCLGVBQ0FRLEVBQUFJLFlBQUFMLEVBQUF6QixRQUFBWixPQUFBcUMsRUFBQXpCLFFBQUFYLFdBQUEwQyxTQUFBTixFQUFBekIsUUFBQVosT0FBQXFDLEVBQUF6QixRQUFBVixVQUNBbUMsRUFBQWxDLFdBQUFpQyxHQUNBQyxFQUFBTyxtQkFBQVIsR0FDQTNDLEVBQUFlLEdBQUFxQyxRQUFBUixFQUFBYixNQUFBLFlBRUFlLEVBQUFJLFNBQUFOLEVBQUF6QixRQUFBa0IsZUFDQVEsRUFBQUksWUFBQUwsRUFBQXpCLFFBQUFaLE9BQUFxQyxFQUFBekIsUUFBQVYsVUFBQXlDLFNBQUFOLEVBQUF6QixRQUFBWixPQUFBcUMsRUFBQXpCLFFBQUFYLFdBQ0FvQyxFQUFBbEMsV0FBQWlDLEdBQ0FDLEVBQUFPLG1CQUFBUixHQUNBM0MsRUFBQWUsR0FBQXFDLFFBQUFSLEVBQUFiLE1BQUEsV0FHQXNCLGtCQUFBLFNBQUFWLEdBQ0EsR0FBQUMsR0FBQXhCLEtBQ0F5QixFQUFBRixFQUFBakIsS0FBQSxJQUFBa0IsRUFBQXpCLFFBQUFaLE9BQUFxQyxFQUFBekIsUUFBQW1CLFdBQ0FRLEVBQUFILEVBQUFXLFNBQUEsSUFBQVYsRUFBQXpCLFFBQUFaLE9BQUFxQyxFQUFBekIsUUFBQWlCLG9CQUNBbUIsRUFBQVosRUFBQWEsUUFBQSxJQUFBWixFQUFBekIsUUFBQWUsb0JBQ0F1QixFQUFBRixFQUFBN0IsS0FBQSxJQUFBa0IsRUFBQXpCLFFBQUFnQixnQkFDQXVCLEVBQUFILEVBQUE3QixLQUFBLElBQUFrQixFQUFBekIsUUFBQVosT0FBQXFDLEVBQUF6QixRQUFBUSxZQUFBLEtBQUFpQixFQUFBekIsUUFBQVosT0FBQXFDLEVBQUF6QixRQUFBbUIsV0FDQXFCLEVBQUFKLEVBQUE3QixLQUFBLElBQUFrQixFQUFBekIsUUFBQVosT0FBQXFDLEVBQUF6QixRQUFBaUIsbUJBRUFVLEdBQUFFLFNBQUFKLEVBQUF6QixRQUFBa0IsZ0JBRUFTLEVBQUFHLFlBQUFMLEVBQUF6QixRQUFBa0IsZUFDQSxJQUFBTyxFQUFBekIsUUFBQVYsVUFDQW9DLEVBQUFJLFlBQUFMLEVBQUF6QixRQUFBVixVQUFBeUMsU0FBQU4sRUFBQXpCLFFBQUFYLFdBRUFtQyxFQUFBTSxZQUFBTCxFQUFBekIsUUFBQWdCLGdCQUNBVyxFQUFBYyxJQUFBLHFGQUFBLFNBQUFDLEdBQ0FqQixFQUFBTyxtQkFBQVIsS0FFQTNDLEVBQUFlLEdBQUFxQyxRQUFBUixFQUFBYixNQUFBLHFCQUdBMEIsRUFBQVIsWUFBQUwsRUFBQXpCLFFBQUFnQixnQkFDQXdCLEVBQUFWLFlBQUFMLEVBQUF6QixRQUFBa0IsZUFDQSxJQUFBTyxFQUFBekIsUUFBQVYsVUFDQWlELEVBQUFULFlBQUFMLEVBQUF6QixRQUFBVixVQUFBeUMsU0FBQU4sRUFBQXpCLFFBQUFYLFdBRUFtQyxFQUFBTyxTQUFBTixFQUFBekIsUUFBQWdCLGdCQUNBVyxFQUFBSSxTQUFBTixFQUFBekIsUUFBQWtCLGVBQ0EsSUFBQU8sRUFBQXpCLFFBQUFWLFVBQ0FvQyxFQUFBSSxZQUFBTCxFQUFBekIsUUFBQVgsV0FBQTBDLFNBQUFOLEVBQUF6QixRQUFBVixVQUVBcUMsRUFBQWMsSUFBQSxxRkFBQSxTQUFBQyxHQUNBakIsRUFBQU8sbUJBQUFSLEtBRUEzQyxFQUFBZSxHQUFBcUMsUUFBQVIsRUFBQWIsTUFBQSxvQkFHQXJCLFdBQUEsU0FBQWlDLEdBQ0EsR0FBQUMsR0FBQXhCLElBQ0F1QixHQUFBSyxTQUFBSixFQUFBekIsUUFBQVosT0FBQXFDLEVBQUF6QixRQUFBVCxXQUFBQyxtQkFDQWdDLEVBQUFtQixTQUFBbEIsRUFBQXpCLFFBQUFULFdBQUFFLEtBQ0ErQixFQUFBbUIsS0FBQWxCLEVBQUF6QixRQUFBVCxXQUFBRyxPQUVBOEIsRUFBQW1CLEtBQUFsQixFQUFBekIsUUFBQVQsV0FBQUUsUUFJQXVDLG1CQUFBLFNBQUFSLEdBQ0EsR0FBQUMsR0FBQXhCLElBQ0F1QixHQUFBSyxTQUFBSixFQUFBekIsUUFBQVosT0FBQXFDLEVBQUF6QixRQUFBb0IsZ0JBQ0F2QyxFQUFBLGNBQUErRCxTQUFBQyxVQUFBaEUsRUFBQTJDLEdBQUFzQixTQUFBQyxLQUFBLE1BR0FDLGVBQUEsU0FBQUMsR0FDQSxHQUFBeEIsR0FBQXdCLEVBQUFDLEtBQUF6QixXQUNBRCxFQUFBM0MsRUFBQW9CLEtBQ0F3QixHQUFBekMsU0FBQXdDLEdBQ0FDLEVBQUF6QixRQUFBYixVQUNBc0MsRUFBQVMsa0JBQUFWLEdBRUFDLEVBQUFGLGVBQUFDLElBR0F4QyxTQUFBLFNBQUF3QyxHQUNBLEdBQUFDLEdBQUF4QixLQUNBMEIsRUFBQUgsRUFBQVcsU0FBQSxJQUFBVixFQUFBekIsUUFBQVosT0FBQXFDLEVBQUF6QixRQUFBaUIsbUJBRUFRLEdBQUF6QixRQUFBakIsV0FBQUMsVUFDQTJDLEVBQUF3QixLQUNBQyxxQ0FBQTNCLEVBQUF6QixRQUFBakIsV0FBQUMsU0FDQXFFLGtDQUFBNUIsRUFBQXpCLFFBQUFqQixXQUFBQyxTQUNBc0UsZ0NBQUE3QixFQUFBekIsUUFBQWpCLFdBQUFDLFNBQ0F1RSw2QkFBQTlCLEVBQUF6QixRQUFBakIsV0FBQUMsV0FJQXlDLEVBQUF6QixRQUFBakIsV0FBQUUsVUFDQTBDLEVBQUF3QixLQUNBSyw4QkFBQS9CLEVBQUF6QixRQUFBakIsV0FBQUUsU0FDQXdFLDJCQUFBaEMsRUFBQXpCLFFBQUFqQixXQUFBRSxTQUNBeUUseUJBQUFqQyxFQUFBekIsUUFBQWpCLFdBQUFFLFNBQ0EwRSxzQkFBQWxDLEVBQUF6QixRQUFBakIsV0FBQUUsV0FJQXdDLEVBQUF6QixRQUFBakIsV0FBQUcsT0FDQXlDLEVBQUF3QixLQUNBUywyQkFBQW5DLEVBQUF6QixRQUFBakIsV0FBQUcsTUFDQTJFLHdCQUFBcEMsRUFBQXpCLFFBQUFqQixXQUFBRyxNQUNBNEUsc0JBQUFyQyxFQUFBekIsUUFBQWpCLFdBQUFHLE1BQ0E2RSxtQkFBQXRDLEVBQUF6QixRQUFBakIsV0FBQUcsU0FJQThFLHFCQUFBLFNBQUFmLEdBQ0EsR0FBQXhCLEdBQUF3QixFQUFBQyxLQUFBekIsV0FDQUQsRUFBQTNDLEVBQUFvQixNQUNBMEIsRUFBQUgsRUFBQWEsUUFBQSxJQUFBWixFQUFBekIsUUFBQWlCLG9CQUNBZ0QsRUFBQXRDLEVBQUF1QyxLQUFBLElBQUF6QyxFQUFBekIsUUFBQWdCLGdCQUNBVSxFQUFBdUMsRUFBQTFELEtBQUEsSUFBQWtCLEVBQUF6QixRQUFBbUIsVUFFQThDLEdBQUFuQyxZQUFBTCxFQUFBekIsUUFBQWdCLGdCQUNBVyxFQUFBRyxZQUFBTCxFQUFBekIsUUFBQWtCLGVBQ0EsSUFBQU8sRUFBQXpCLFFBQUFWLFVBQ0FvQyxFQUFBSSxZQUFBTCxFQUFBekIsUUFBQVYsVUFBQXlDLFNBQUFOLEVBQUF6QixRQUFBWCxXQUVBb0MsRUFBQU8sbUJBQUFSLEdBQ0EzQyxFQUFBZSxHQUFBcUMsUUFBQVIsRUFBQWIsTUFBQSxvQkFFQXVELGNBQUEsV0FDQWxFLEtBQUFLLGlCQUFBOEQsR0FBQSxTQUFBM0MsV0FBQXhCLE1BQUFBLEtBQUErQyxpQkFFQWxDLEtBQUEsV0FDQWIsS0FBQWtFLGtCQUlBdEYsRUFBQXdGLEdBQUF4RCxHQUFBLFNBQUF5RCxHQUNBLE1BQUFyRSxNQUFBc0UsS0FBQSxXQUNBLEdBQUFyQixHQUFBckUsRUFBQXFFLEtBQUFqRCxLQUFBLGFBQUFZLEdBQ0FiLEVBQUEsZ0JBQUFzRSxJQUFBQSxDQUVBcEIsSUFBQXJFLEVBQUFxRSxLQUFBakQsS0FBQSxhQUFBWSxFQUFBcUMsRUFBQSxHQUFBcEQsR0FBQUcsS0FBQUQsSUFDQSxnQkFBQXNFLElBQUFwQixFQUFBb0IsUUFJQXpGLEVBQUF3RixHQUFBeEQsR0FBQVIsU0FBQUEsRUFDQXhCLEVBQUF3RixHQUFBeEQsR0FBQVMsWUFBQXhCLEdBRUEwRSxPQUFBN0UsT0FBQUMiLCJmaWxlIjoiZXhhbXBsZXMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRXhhbXBsZSAxXG4kKCcuZXhhbXBsZTEnKS5jc3NDb2xsYXBzZSh7XG4gICAgdHJhbnNpdGlvbjoge1xuICAgICAgICBiZWhhdmlvcjogJ2Vhc2UtaW4tb3V0JyxcbiAgICAgICAgZHVyYXRpb246ICc4MDBtcydcbiAgICB9XG59KTtcblxuLy8gRXhhbXBsZSAyXG4kKCcuZXhhbXBsZTInKS5jc3NDb2xsYXBzZSh7XG4gICAgdHJhbnNpdGlvbjoge1xuICAgICAgICBiZWhhdmlvcjogJ2Vhc2UtaW4tb3V0JyxcbiAgICAgICAgZHVyYXRpb246ICcxcycsXG4gICAgICAgIGRlbGF5OiAnNTAwbXMnLFxuICAgIH1cbn0pO1xuXG4vLyBFeGFtcGxlIDNcbiQoJy5leGFtcGxlMycpLmNzc0NvbGxhcHNlKHtcbiAgICBhY2NvcmRpb246IHRydWUsXG4gICAgcHJlZml4OiAnYWNjb3JkaW9uLScsXG4gICAgaWNvbkNsb3NlOiAnY3NzQ29sbGFwc2UtY2hldnJvbi1kb3duJyxcbiAgICBpY29uT3BlbjogJ2Nzc0NvbGxhcHNlLWNoZXZyb24tdXAnXG59KTtcblxuLy8gRXhhbXBsZSA0XG4kKCcuZXhhbXBsZTQnKS5jc3NDb2xsYXBzZSh7XG4gICAgaWNvbkNsb3NlOiAnZGFzaCcsXG4gICAgaWNvbk9wZW46ICdwbHVzJ1xufSk7XG5cbi8vIEV4YW1wbGUgNVxuJCgnLmV4YW1wbGU1JykuY3NzQ29sbGFwc2Uoe1xuICAgIGNoYW5nZVRleHQ6IHtcbiAgICAgICAgY2hhbmdlVGV4dENsYXNzOiAnY2hhbmdlVGV4dCcsXG4gICAgICAgIG9wZW46ICdPcGVuJyxcbiAgICAgICAgY2xvc2U6ICdDbG9zZSdcbiAgICB9XG59KTtcbiIsIjtcbihmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgcGx1Z2luTmFtZSA9ICdjc3NDb2xsYXBzZScsXG4gICAgICAgIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgYWNjb3JkaW9uOiBmYWxzZSxcbiAgICAgICAgICAgIGFjY29yZGlvbkNvbnRhaW5lcjogJ2FjY29yZGlvbkNvbnRhaW5lcicsXG4gICAgICAgICAgICBwcmVmaXg6ICdjc3NDb2xsYXBzZS0nLFxuICAgICAgICAgICAgdGFyZ2V0Q2xhc3M6ICd0YXJnZXQnLFxuICAgICAgICAgICAgdGFyZ2V0U2VsZWN0ZWQ6ICdzZWxlY3RlZCcsXG4gICAgICAgICAgICBoaWRkZW5Db250ZW50Q2xhc3M6ICdoaWRkZW5Db250ZW50JyxcbiAgICAgICAgICAgIGNvbGxhcHNlQ2xhc3M6ICdpcy1vcGVuJyxcbiAgICAgICAgICAgIGljb25DbGFzczogJ2NvbGxhcHNlSWNvbnMnLFxuICAgICAgICAgICAgaWNvbk9wZW46ICdkaWZmLWFkZGVkJyxcbiAgICAgICAgICAgIGljb25DbG9zZTogJ2RpZmYtcmVtb3ZlZCcsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgYmVoYXZpb3I6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkZWxheTogZmFsc2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWNjb3JkaW9uQ2xvc2VMaW5rQ2xhc3M6ICdjbG9zZUFjY29yZGlvbicsXG4gICAgICAgICAgICBub1Njcm9sbENsYXNzOiAnbm9TY3JvbGwnLFxuICAgICAgICAgICAgY2hhbmdlVGV4dDoge1xuICAgICAgICAgICAgICAgIGNoYW5nZVRleHRDbGFzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgb3BlbjogJycsXG4gICAgICAgICAgICAgICAgY2xvc2U6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAvL2NvbnN0cnVjdG9yXG4gICAgZnVuY3Rpb24gcGx1Z2luKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy4kZWxlbSA9ICQoZWxlbWVudCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY29sbGFwc2VIZWFkaW5ncyA9IHRoaXMuJGVsZW0uZmluZCgnLicgKyB0aGlzLm9wdGlvbnMucHJlZml4ICsgdGhpcy5vcHRpb25zLnRhcmdldENsYXNzKTtcbiAgICAgICAgdGhpcy5hY2NvcmRpb25DbG9zZUxpbmsgPSB0aGlzLiRlbGVtLmZpbmQoJy4nICsgdGhpcy5vcHRpb25zLmFjY29yZGlvbkNsb3NlTGlua0NsYXNzKTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdHMgPSBkZWZhdWx0cztcbiAgICAgICAgdGhpcy5fbmFtZSA9IHBsdWdpbk5hbWU7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgcGx1Z2luLnByb3RvdHlwZSA9IHtcbiAgICAgICAgY29uc3RydWN0b3I6IHBsdWdpbixcbiAgICAgICAgdG9nZ2xlQ29sbGFwc2U6IGZ1bmN0aW9uICgkY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgdmFyIHBsdWdpblRoaXMgPSB0aGlzLFxuICAgICAgICAgICAgICAgICRjb2xsYXBzZUljb25zID0gJGN1cnJlbnRUYXJnZXQuZmluZCgnLicgKyBwbHVnaW5UaGlzLm9wdGlvbnMucHJlZml4ICsgcGx1Z2luVGhpcy5vcHRpb25zLmljb25DbGFzcyksXG4gICAgICAgICAgICAgICAgJGhpZGRlbkNvbnRlbnQgPSAkY3VycmVudFRhcmdldC5wYXJlbnQoKS5maW5kKCcuJyArIHBsdWdpblRoaXMub3B0aW9ucy5wcmVmaXggKyBwbHVnaW5UaGlzLm9wdGlvbnMuaGlkZGVuQ29udGVudENsYXNzKTtcblxuICAgICAgICAgICAgaWYgKCRoaWRkZW5Db250ZW50Lmhhc0NsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5jb2xsYXBzZUNsYXNzKSkge1xuICAgICAgICAgICAgICAgICRoaWRkZW5Db250ZW50LnJlbW92ZUNsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5jb2xsYXBzZUNsYXNzKTtcbiAgICAgICAgICAgICAgICAkY29sbGFwc2VJY29ucy5yZW1vdmVDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMucHJlZml4ICsgcGx1Z2luVGhpcy5vcHRpb25zLmljb25DbG9zZSkuYWRkQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLnByZWZpeCArIHBsdWdpblRoaXMub3B0aW9ucy5pY29uT3Blbik7XG4gICAgICAgICAgICAgICAgcGx1Z2luVGhpcy5jaGFuZ2VUZXh0KCRjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBwbHVnaW5UaGlzLmNoZWNrTm9TY3JvbGxDbGFzcygkY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcihwbHVnaW5UaGlzLl9uYW1lICsgJy5jbG9zZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkaGlkZGVuQ29udGVudC5hZGRDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMuY29sbGFwc2VDbGFzcyk7XG4gICAgICAgICAgICAgICAgJGNvbGxhcHNlSWNvbnMucmVtb3ZlQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLnByZWZpeCArIHBsdWdpblRoaXMub3B0aW9ucy5pY29uT3BlbikuYWRkQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLnByZWZpeCArIHBsdWdpblRoaXMub3B0aW9ucy5pY29uQ2xvc2UpO1xuICAgICAgICAgICAgICAgIHBsdWdpblRoaXMuY2hhbmdlVGV4dCgkY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICAgICAgcGx1Z2luVGhpcy5jaGVja05vU2Nyb2xsQ2xhc3MoJGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnRyaWdnZXIocGx1Z2luVGhpcy5fbmFtZSArICcub3BlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhY2NvcmRpb25Db2xsYXBzZTogZnVuY3Rpb24gKCRjdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgcGx1Z2luVGhpcyA9IHRoaXMsXG4gICAgICAgICAgICAgICAgJGNvbGxhcHNlSWNvbnMgPSAkY3VycmVudFRhcmdldC5maW5kKCcuJyArIHBsdWdpblRoaXMub3B0aW9ucy5wcmVmaXggKyBwbHVnaW5UaGlzLm9wdGlvbnMuaWNvbkNsYXNzKSxcbiAgICAgICAgICAgICAgICAkaGlkZGVuQ29udGVudCA9ICRjdXJyZW50VGFyZ2V0LnNpYmxpbmdzKCcuJyArIHBsdWdpblRoaXMub3B0aW9ucy5wcmVmaXggKyBwbHVnaW5UaGlzLm9wdGlvbnMuaGlkZGVuQ29udGVudENsYXNzKSxcbiAgICAgICAgICAgICAgICAkY3VycmVudFBhcmVudCA9ICRjdXJyZW50VGFyZ2V0LnBhcmVudHMoJy4nICsgcGx1Z2luVGhpcy5vcHRpb25zLmFjY29yZGlvbkNvbnRhaW5lciksXG4gICAgICAgICAgICAgICAgJGFjY29yZGlvblRhcmdldHMgPSAkY3VycmVudFBhcmVudC5maW5kKCcuJyArIHBsdWdpblRoaXMub3B0aW9ucy50YXJnZXRTZWxlY3RlZCksXG4gICAgICAgICAgICAgICAgJGFjY29yZGlvbkNvbGxhcHNlSWNvbnMgPSAkY3VycmVudFBhcmVudC5maW5kKCcuJyArIHBsdWdpblRoaXMub3B0aW9ucy5wcmVmaXggKyBwbHVnaW5UaGlzLm9wdGlvbnMudGFyZ2V0Q2xhc3MgKyAnIC4nICsgcGx1Z2luVGhpcy5vcHRpb25zLnByZWZpeCArIHBsdWdpblRoaXMub3B0aW9ucy5pY29uQ2xhc3MpLFxuICAgICAgICAgICAgICAgICRhY2NvcmRpb25IaWRkZW5Db250ZW50ID0gJGN1cnJlbnRQYXJlbnQuZmluZCgnLicgKyBwbHVnaW5UaGlzLm9wdGlvbnMucHJlZml4ICsgcGx1Z2luVGhpcy5vcHRpb25zLmhpZGRlbkNvbnRlbnRDbGFzcyk7XG5cbiAgICAgICAgICAgIGlmICgkaGlkZGVuQ29udGVudC5oYXNDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMuY29sbGFwc2VDbGFzcykpIHtcbiAgICAgICAgICAgICAgICAvLyB0YXJnZXQgb3BlbmVkXG4gICAgICAgICAgICAgICAgJGhpZGRlbkNvbnRlbnQucmVtb3ZlQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLmNvbGxhcHNlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW5UaGlzLm9wdGlvbnMuaWNvbk9wZW4gIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgJGNvbGxhcHNlSWNvbnMucmVtb3ZlQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLmljb25PcGVuKS5hZGRDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMuaWNvbkNsb3NlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJGN1cnJlbnRUYXJnZXQucmVtb3ZlQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLnRhcmdldFNlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICAkaGlkZGVuQ29udGVudC5vbmUoJ3dlYmtpdFRyYW5zaXRpb25FbmQgbW96VHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQgb1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW5UaGlzLmNoZWNrTm9TY3JvbGxDbGFzcygkY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcihwbHVnaW5UaGlzLl9uYW1lICsgJy5hY2NvcmRpb25DbG9zZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB0YXJnZXQgY2xvc2VkXG4gICAgICAgICAgICAgICAgJGFjY29yZGlvblRhcmdldHMucmVtb3ZlQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLnRhcmdldFNlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICAkYWNjb3JkaW9uSGlkZGVuQ29udGVudC5yZW1vdmVDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMuY29sbGFwc2VDbGFzcyk7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpblRoaXMub3B0aW9ucy5pY29uT3BlbiAhPSAnJykge1xuICAgICAgICAgICAgICAgICAgICAkYWNjb3JkaW9uQ29sbGFwc2VJY29ucy5yZW1vdmVDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMuaWNvbk9wZW4pLmFkZENsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5pY29uQ2xvc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkY3VycmVudFRhcmdldC5hZGRDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMudGFyZ2V0U2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICRoaWRkZW5Db250ZW50LmFkZENsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5jb2xsYXBzZUNsYXNzKTtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luVGhpcy5vcHRpb25zLmljb25PcGVuICE9ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICRjb2xsYXBzZUljb25zLnJlbW92ZUNsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5pY29uQ2xvc2UpLmFkZENsYXNzKHBsdWdpblRoaXMub3B0aW9ucy5pY29uT3Blbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRoaWRkZW5Db250ZW50Lm9uZSgnd2Via2l0VHJhbnNpdGlvbkVuZCBtb3pUcmFuc2l0aW9uRW5kIE1TVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCBvVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpblRoaXMuY2hlY2tOb1Njcm9sbENsYXNzKCRjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS50cmlnZ2VyKHBsdWdpblRoaXMuX25hbWUgKyAnLmFjY29yZGlvbk9wZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2hhbmdlVGV4dDogZnVuY3Rpb24gKCRjdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgcGx1Z2luVGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoJGN1cnJlbnRUYXJnZXQuaGFzQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLnByZWZpeCArIHBsdWdpblRoaXMub3B0aW9ucy5jaGFuZ2VUZXh0LmNoYW5nZVRleHRDbGFzcykpIHtcbiAgICAgICAgICAgICAgICBpZiAoJGN1cnJlbnRUYXJnZXQudGV4dCgpID09PSBwbHVnaW5UaGlzLm9wdGlvbnMuY2hhbmdlVGV4dC5vcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICRjdXJyZW50VGFyZ2V0LnRleHQocGx1Z2luVGhpcy5vcHRpb25zLmNoYW5nZVRleHQuY2xvc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRjdXJyZW50VGFyZ2V0LnRleHQocGx1Z2luVGhpcy5vcHRpb25zLmNoYW5nZVRleHQub3Blbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjaGVja05vU2Nyb2xsQ2xhc3M6IGZ1bmN0aW9uICgkY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgdmFyIHBsdWdpblRoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCEkY3VycmVudFRhcmdldC5oYXNDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMucHJlZml4ICsgcGx1Z2luVGhpcy5vcHRpb25zLm5vU2Nyb2xsQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogJCgkY3VycmVudFRhcmdldCkub2Zmc2V0KCkudG9wfSwgODAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tBY2NvcmRpb246IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHBsdWdpblRoaXMgPSBldmVudC5kYXRhLnBsdWdpblRoaXMsXG4gICAgICAgICAgICAgICAgJGN1cnJlbnRUYXJnZXQgPSAkKHRoaXMpO1xuICAgICAgICAgICAgcGx1Z2luVGhpcy5iZWhhdmlvcigkY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICBpZiAocGx1Z2luVGhpcy5vcHRpb25zLmFjY29yZGlvbikge1xuICAgICAgICAgICAgICAgIHBsdWdpblRoaXMuYWNjb3JkaW9uQ29sbGFwc2UoJGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwbHVnaW5UaGlzLnRvZ2dsZUNvbGxhcHNlKCRjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYmVoYXZpb3I6IGZ1bmN0aW9uICgkY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgdmFyIHBsdWdpblRoaXMgPSB0aGlzLFxuICAgICAgICAgICAgICAgICRoaWRkZW5Db250ZW50ID0gJGN1cnJlbnRUYXJnZXQuc2libGluZ3MoJy4nICsgcGx1Z2luVGhpcy5vcHRpb25zLnByZWZpeCArIHBsdWdpblRoaXMub3B0aW9ucy5oaWRkZW5Db250ZW50Q2xhc3MpO1xuXG4gICAgICAgICAgICBpZiAocGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uYmVoYXZpb3IpIHtcbiAgICAgICAgICAgICAgICAkaGlkZGVuQ29udGVudC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbic6IHBsdWdpblRoaXMub3B0aW9ucy50cmFuc2l0aW9uLmJlaGF2aW9yLFxuICAgICAgICAgICAgICAgICAgICAnLW1vei10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbic6IHBsdWdpblRoaXMub3B0aW9ucy50cmFuc2l0aW9uLmJlaGF2aW9yLFxuICAgICAgICAgICAgICAgICAgICAnLW8tdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nOiBwbHVnaW5UaGlzLm9wdGlvbnMudHJhbnNpdGlvbi5iZWhhdmlvcixcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJzogcGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uYmVoYXZpb3JcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBsdWdpblRoaXMub3B0aW9ucy50cmFuc2l0aW9uLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgJGhpZGRlbkNvbnRlbnQuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbic6IHBsdWdpblRoaXMub3B0aW9ucy50cmFuc2l0aW9uLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAnLW1vei10cmFuc2l0aW9uLWR1cmF0aW9uJzogcGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICctby10cmFuc2l0aW9uLWR1cmF0aW9uJzogcGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICd0cmFuc2l0aW9uLWR1cmF0aW9uJzogcGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uZHVyYXRpb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBsdWdpblRoaXMub3B0aW9ucy50cmFuc2l0aW9uLmRlbGF5KSB7XG4gICAgICAgICAgICAgICAgJGhpZGRlbkNvbnRlbnQuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNpdGlvbi1kZWxheSc6IHBsdWdpblRoaXMub3B0aW9ucy50cmFuc2l0aW9uLmRlbGF5LFxuICAgICAgICAgICAgICAgICAgICAnLW1vei10cmFuc2l0aW9uLWRlbGF5JzogcGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uZGVsYXksXG4gICAgICAgICAgICAgICAgICAgICctby10cmFuc2l0aW9uLWRlbGF5JzogcGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uZGVsYXksXG4gICAgICAgICAgICAgICAgICAgICd0cmFuc2l0aW9uLWRlbGF5JzogcGx1Z2luVGhpcy5vcHRpb25zLnRyYW5zaXRpb24uZGVsYXlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2VBY2NvcmRpb25CeUxpbms6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHBsdWdpblRoaXMgPSBldmVudC5kYXRhLnBsdWdpblRoaXMsXG4gICAgICAgICAgICAgICAgJGN1cnJlbnRUYXJnZXQgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICRoaWRkZW5Db250ZW50ID0gJGN1cnJlbnRUYXJnZXQucGFyZW50cygnLicgKyBwbHVnaW5UaGlzLm9wdGlvbnMuaGlkZGVuQ29udGVudENsYXNzKSxcbiAgICAgICAgICAgICAgICAkdGFyZ2V0U2VsZWN0ZWQgPSAkaGlkZGVuQ29udGVudC5wcmV2KCcuJyArIHBsdWdpblRoaXMub3B0aW9ucy50YXJnZXRTZWxlY3RlZCksXG4gICAgICAgICAgICAgICAgJGNvbGxhcHNlSWNvbnMgPSAkdGFyZ2V0U2VsZWN0ZWQuZmluZCgnLicgKyBwbHVnaW5UaGlzLm9wdGlvbnMuaWNvbkNsYXNzKTtcblxuICAgICAgICAgICAgJHRhcmdldFNlbGVjdGVkLnJlbW92ZUNsYXNzKHBsdWdpblRoaXMub3B0aW9ucy50YXJnZXRTZWxlY3RlZCk7XG4gICAgICAgICAgICAkaGlkZGVuQ29udGVudC5yZW1vdmVDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMuY29sbGFwc2VDbGFzcyk7XG4gICAgICAgICAgICBpZiAocGx1Z2luVGhpcy5vcHRpb25zLmljb25PcGVuICE9ICcnKSB7XG4gICAgICAgICAgICAgICAgJGNvbGxhcHNlSWNvbnMucmVtb3ZlQ2xhc3MocGx1Z2luVGhpcy5vcHRpb25zLmljb25PcGVuKS5hZGRDbGFzcyhwbHVnaW5UaGlzLm9wdGlvbnMuaWNvbkNsb3NlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsdWdpblRoaXMuY2hlY2tOb1Njcm9sbENsYXNzKCRjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLnRyaWdnZXIocGx1Z2luVGhpcy5fbmFtZSArICcuYWNjb3JkaW9uQ2xvc2UnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXZlbnRCaW5kaW5nczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5jb2xsYXBzZUhlYWRpbmdzLm9uKCdjbGljaycsIHtwbHVnaW5UaGlzOiB0aGlzfSwgdGhpcy5jaGVja0FjY29yZGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRCaW5kaW5ncygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICQuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSAkLmRhdGEodGhpcywgJ09ialBsdWdpbl8nICsgcGx1Z2luTmFtZSksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT09ICdvYmplY3QnICYmIG9wdGlvbjtcblxuICAgICAgICAgICAgaWYgKCFkYXRhKSAkLmRhdGEodGhpcywgJ09ialBsdWdpbl8nICsgcGx1Z2luTmFtZSwgKGRhdGEgPSBuZXcgcGx1Z2luKHRoaXMsIG9wdGlvbnMpKSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgJC5mbltwbHVnaW5OYW1lXS5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgICQuZm5bcGx1Z2luTmFtZV0uY29uc3RydWN0b3IgPSBwbHVnaW47XG5cbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7Il19
